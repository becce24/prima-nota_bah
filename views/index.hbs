<div class="container mx-auto py-8 px-4">
    <!-- Form Transazione -->
    <div class="bg-white p-6 rounded-lg shadow-md mb-8">
        <h3 class="text-xl font-semibold mb-6 flex items-center">
            <i class="fas fa-plus-circle text-blue-600 mr-2"></i>
            Aggiungi Transazione
        </h3>
        
        <form action="/transactions/add" method="POST" class="space-y-6">
            <!-- Tipo Transazione con Checkbox -->
           <!-- Tipo Transazione con Checkbox -->
<div class="flex space-x-6 mb-6">
    <div class="flex items-center">
        <input type="checkbox" 
               id="typeClient" 
               name="typeClient" 
               class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-2">
        <label for="typeClient" class="text-gray-700">Cliente</label>
    </div>
    <div class="flex items-center">
        <input type="checkbox" 
               id="typeSupplier" 
               name="typeSupplier" 
               class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-2">
        <label for="typeSupplier" class="text-gray-700">Fornitore</label>
    </div>
</div>
            <!-- Contenitori per i campi -->
            <div id="entityContainer" class="hidden space-y-6">
                <!-- Cliente -->
                <!-- Nel form per la sezione cliente -->
<div id="clientSection" class="hidden">
    <label class="block text-sm font-medium text-gray-700 mb-2">Cliente</label>
    <input type="text" name="client" list="clientSuggestions"
           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
           placeholder="Cerca cliente...">
    <datalist id="clientSuggestions"></datalist>
</div>

<!-- Nel form per la sezione fornitore -->
<div id="supplierSection" class="hidden">
    <label class="block text-sm font-medium text-gray-700 mb-2">Fornitore</label>
    <input type="text" name="supplier" list="supplierSuggestions"
           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
           placeholder="Cerca fornitore...">
    <datalist id="supplierSuggestions"></datalist>
</div>
            </div>

            <!-- Altri campi -->
            <div id="otherFields" class="hidden space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Data -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Data</label>
                        <input type="date" name="date" required class="form-input"
                               value="{{currentDate}}">
                    </div>
                    
                    <!-- Numero Documento -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Numero Documento</label>
                        <input type="text" name="documentNumber" required class="form-input"
                               placeholder="Inserisci numero documento">
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Importo -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Importo</label>
                        <input type="text" name="amount" required class="form-input"
                               placeholder="0,00">
                    </div>

                    <!-- Banca -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Banca</label>
                        <select name="bank" required class="form-input">
                            <option value="">Seleziona banca</option>
                            <option value="Banca Veneta (Patavina)">Banca Veneta (Patavina)</option>
                            <option value="Bcc Centro Marca">Bcc Centro Marca</option>
                            <option value="Bcc di Roma">Bcc di Roma</option>
                            <option value="Bcc Colli">Bcc Colli</option>
                            <option value="Cassa">Cassa</option>
                        </select>
                    </div>
                </div>

                <!-- Descrizione -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Descrizione</label>
                    <textarea name="description" rows="2" class="form-input"
                             placeholder="Inserisci una descrizione"></textarea>
                </div>

                <!-- Pulsanti -->
                <div class="flex gap-4">
                    <button type="submit" class="btn btn-primary flex-1 flex items-center justify-center">
                        <i class="fas fa-save mr-2"></i>Salva
                    </button>
                    <button type="reset" class="btn btn-secondary flex items-center justify-center">
                        <i class="fas fa-undo mr-2"></i>Annulla
                    </button>
                </div>
            </div>
            
            <!-- Campo hidden per il tipo -->
            <input type="hidden" name="type" id="transactionType">
        </form>
    </div>

    <!-- Tabella Transazioni -->
    <div class="bg-white rounded-lg shadow-md overflow-hidden">
        <div class="p-6 border-b">
            <h3 class="text-xl font-semibold flex items-center">
                <i class="fas fa-list text-blue-600 mr-2"></i>Lista delle Transazioni
            </h3>
        </div>
        <div class="overflow-x-auto">
            <table class="w-full">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Data</th>
                       
                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Entrate</th>
                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Uscite</th>
                        
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Cliente/Fornitore</th>
                       
                       
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-200">
                    {{#each transactions}}
                    <tr class="hover:bg-gray-50">
                        <td class="px-6 py-4 whitespace-nowrap text-sm">{{formatDate this.date 'DD/MM/YYYY'}}</td>
                       
                        
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-right {{#if (eq this.type 'incasso')}}text-green-600 font-medium{{/if}}">
                            {{#if (eq this.type 'incasso')}}{{formatCurrency this.amount}}{{/if}}
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-right {{#if (eq this.type 'pagamento')}}text-red-600 font-medium{{/if}}">
                            {{#if (eq this.type 'pagamento')}}{{formatCurrency this.amount}}{{/if}}
                        </td>
                       
                        <td class="px-6 py-4 whitespace-nowrap text-sm">{{this.client}}{{this.supplier}}</td>
                        
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-center">
                          
                        </td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </div>
</div>